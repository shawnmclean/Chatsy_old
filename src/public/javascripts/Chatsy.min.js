(function(){var a;(function(a){var b;return b={Away:0,Back:1,Visible:2,Hidden:3}})(typeof exports=="undefined"?this.Chatsy={}:exports),a=function(){function j(){}var a,b,c,d,e,f,g,h,i;c=prompt("Enter Room","Enter Room Here"),b=prompt("Enter Your name","Name here"),e="http://localhost:14781/",f=io.connect(e),g=$("#msg"),$("#leave").click(function(a){f.emit("leaveRoom",{user:{friendlyName:b,userId:b},roomId:c});return a.preventDefault()}),$("#msg").keypress(function(a){if(a.keyCode===13){d($(this).val()),a.preventDefault();return $(this).val("")}}),a=function(a){return $("#chatList").append("<li>"+a.created+": "+a.friendlyName+": "+a.message+" </li>")},h=function(a){return $("#chatList").append("<li> "+a.friendlyName+" joined </li>")},i=function(a){return $("#chatList").append("<li> "+a.friendlyName+" left </li>")},f.emit("joinRoom",{user:{friendlyName:b,userId:b},roomId:c}),f.on("userJoined",function(a){return h(a.message)}),f.on("userLeave",function(a){return i(a.message)}),f.on("prefill",function(b){var c,d,e,f,g;f=b.message,g=[];for(d=0,e=f.length;d<e;d++)c=f[d],g.push(a(c));return g}),f.on("message",function(b){return a(b.message)}),d=function(a){return f.emit("message",{roomId:c,message:a})};return j}()}).call(this)