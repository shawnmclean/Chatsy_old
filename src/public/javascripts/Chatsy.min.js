(function(){var a;this.ChatsyEngine=function(){function a(a,b){this.user=b;if(!this.user)throw new ReferenceError("User cannot be null.");this.socket=io.connect(server)}a.prototype.rooms=[],a.prototype.user=null,a.prototype.socket=null,a.prototype.joinRoom=function(a){if(get_type(a!=="ChatsyRoom"))throw new Exception('parameter must be of type "ChatsyRoom"');if(!this.rooms.indexOf(a>=0))return this.socket.emit("joinRoom",{roomId:a.roomId,user:this.user})};return a}(),a=function(){function a(a,b,c){this.engine=a,this.roomId=b;if(!this.engine||!this.roomId)throw new ReferenceError("All arguments should not be null.");c&&(this.messageRecieved=c.messageRecieved,this.userJoined=c.userJoined,this.userLeave=c.userLeave),this.engine.joinRoom(this,this.user)}a.prototype.roomId=null,a.prototype.users=null,a.prototype.engine=null,a.prototype.messageRecieved=null,a.prototype.userJoined=null,a.prototype.userLeave=null,a.prototype.createMessage=function(a){};return a}(),function(a){var b;return b={Away:0,Back:1,Visible:2,Hidden:3}}(typeof exports=="undefined"?this.Chatsy={}:exports)}).call(this)